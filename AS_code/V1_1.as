.AUXDATA
N_INT1    "io_calcERR  "
N_INT2    "io_start_game  "
.END
.PROGRAM MAIN ()
  SPEED main_speed MM/S ALWAYS
  BASE NULL
  TWAIT(1)
  BASE FRAME (O1, X1, Y1, O1)
  TWAIT(1)
  TOOL NULL
  TWAIT 1
  TOOL TRANS (0,0,137,0,0,0)
  TWAIT 1
  WHILE TRUE DO
    DO
      SWAIT IO_start_game
      CALL GRAB
      CALL calculate_drop
      CALL DROP ("fast")
    UNTIL IO_STOP <> TRUE
  END
.END
.PROGRAM TEACH () ; 
  BASE NULL
  TOOL NULL
  TOOL tool_calibr
  BREAK
  ALIGN
  LAPPRO O1,100
  LMOVE O1
  LMOVE Y1
  CALL CALCULATE_X1.pc
  BREAK
  POINT base_coord = FRAME(O1,X1,Y1,O1)
  BASE base_coord
  BREAK
  BREAK
  LMOVE TRANS(100,100,100)
  BREAK
  JMOVE #t_change
.END
.PROGRAM GRAB ()
  SPEED grab_speed ALWAYS
  ACCURACY 1 ALWAYS
  LMOVE #Start_Pos
  LMOVE #Ready_Grab
  LMOVE #Pre_Grab
  BREAK
  SPEED grab_speed
  LMOVE #Grab
  SPEED grab_speed*1.1
  DRAW ,,100
  LMOVE #Ready_to_drop
.END
.PROGRAM calculate_drop ()
;
  ;Корректировать в зависимости от конечной точки
  .R = Motion_rad - 50
  .dx =  DY(O1)
  .dy = - DX(O1)
  ;
  ;minX, maxX - допустимые границы по OX
  ;minY, maxY - допустимые границы по OY
  ;@Motion_rad - доступный для робота радиус движения
  ;@Zoffset - расстояие от схвата до стола по OZ
  ;retract - длина отката после броска
  ;
  .x1 = DX (start_p)
  .x2 = DX (target_p)
  .y1 = DY (start_p)
  .y2 = DY (target_p)
  ;
  ;Уравнение границы броска (.rootY - .dy)^2 + (.rootX- .dx)^2 = .R^2
  ;Уравнение прямой броска f(x) = .m*x + .k
  IF (.x2 == .x1) THEN
    .x2 = .x1 + 0.1
  END
  .m = (.y2 - .y1) / (.x2 - .x1)
  .k = .y1 - .m * .x1
  ;
  ;Поиск пересечения f(x) = g(x). Разбито на abc для упрощения
  .a = SQRT((.m*.m + 1) * .R*.R - (.k - .dy + .dx*.m)*(.k - .dy + .dx*.m))
  .b = -.k*.m + .dy*.m + .dx
  .c = .m*.m + 1
  IF (.x2 < .x1) THEN
    .a = -.a
  END
  ;
  ;Рассчёт целевых координат
  .rootX = (.a + .b) / .c
  .rootY = .m * .rootX + .k
  .angle = ATAN2 (.x2-.x1, .y2-.y1)
  ;
  ;Расчёт вспомогательных величин для точки отката
  .x3 = retract * SIN(.angle)
  .y3 = retract * COS(.angle)
  ;  
  ;if ((.rootX > minX ) AND (.rootX < maxX ) AND (.rootY > minY ) AND (abs(.angle) < 90)) THEN
   ;                            
    ;Формирование точек броска
    POINT start_mp = TRANS (DX (start_p), DY(start_p), Zoffset, 0, 0, -.angle)
    POINT deploy_mp = TRANS (.rootX, .rootY, Zoffset, 0, 0, -.angle)
    POINT stop_mp = SHIFT (deploy_mp BY -.x3, -.y3, 0)
  ;ELSE
  ;  SIG io_calcERR
 ; END
.END
.PROGRAM DROP (.$mode) ; 
;speed - скорость перемещений
  ;Zsafety - безопасная высота тула над столом
  ;
  ACCEL acc ALWAYS
  DECEL dec ALWAYS
  ;
  LMOVE SHIFT(start_mp BY 0, 0, Zsafety)
  CP ON
  BREAK
  LMOVE start_mp
  IF (.$mode == "destroy") THEN
    .spd = 100
    .acc = 100
    .dec = 80
  ELSE
    IF (.$mode == "fast") THEN
      .spd = 80
      .acc = 70
      .dec = 70
    ELSE ;normal
      .spd = 45
      .acc = 60
      .dec = 60
    END
  END
  ;
  SPEED .spd
  ACCEL .acc
  DECEL .dec
  ;
  LMOVE deploy_mp
  BREAK
  LMOVE stop_mp
  DRAW 0,0, Zsafety
  JMOVE #hhome
  CP OFF
.END
.PROGRAM CALCULATE_X1.pc ()
  .a = DX(O1)
  .aa = DY(O1)
  .b = DX(Y1)
  .bb = DY(Y1)
  .o = SQRT(10000*(.bb-.aa)*(.bb-.aa)*(.bb*.bb-2*.aa*.bb+.b*.b-2*.a*.b+.aa*.aa+.a*.a))
  .oo = (.bb*.bb-2*.aa*.bb+.b*.b-2*.a*.b+.aa*.aa+.a*.a)
  .x = .o/.oo+.a
  .y = .aa-((.b-.a)*(.x-.a))/(.bb-.aa)
  .x = -1 * .x
  POINT X1 = TRANS(.x,.y,DZ(O1),0,0,0)
.END
.PROGRAM init.pc ()
  ; Internal signals for IFP
  int_exec_main = 2900
  ; TCP/IP Settings
  tcp_port = 48569
  $tcp_ip = "10.208.31.161"
  tcp_send_time = 10
  tcp_conn_time = 10
  tcp_recv_time = 15
  socket_id = -1
  ; Other
  IFPWPRINT 1 = " "
  debug = TRUE
.END
.PROGRAM Comment___ () ; Comments for IDE. Do not use.
	; @@@ PROJECT @@@
	; @@@ PROJECTNAME @@@
	; V1_0
	; @@@ HISTORY @@@
	; 23.04.2023 22:49:24
	; 
	; 26.04.2023 15:41:16
	; 
	; @@@ INSPECTION @@@
	; @@@ CONNECTION @@@
	; Polytech RS007L
	; 192.168.2.228
	; 23
	; @@@ PROGRAM @@@
	; MainProg:MAIN
	; 0:MAIN:F
	; 0:TEACH:F
	; .pc 
	; 0:GRAB:F
	; 0:calculate_drop:F
	; .R 
	; .dx 
	; .dy 
	; .x1 
	; .x2 
	; .y1 
	; .y2 
	; .m 
	; .k 
	; .a 
	; .b 
	; .c 
	; .rootX 
	; .rootY 
	; .angle 
	; .x3 
	; .y3 
	; 0:DROP:F
	; .spd 
	; .acc 
	; .dec 
	; .$mode 
	; 0:CALCULATE_X1.pc:B
	; .a 
	; .aa 
	; .b 
	; .bb 
	; .o 
	; .oo 
	; .x 
	; .y 
	; 0:init.pc:B
	; @@@ TRANS @@@
	; @@@ JOINTS @@@
	; @@@ REALS @@@
	; maxX 
	; maxY 
	; minX 
	; minY 
	; Motion_rad 
	; Zoffset 
	; Zsafety 
	; @@@ STRINGS @@@
	; @@@ INTEGER @@@
	; @@@ SIGNALS @@@
	; io_calcERR 
	; io_start_game 
	; @@@ TOOLS @@@
	; @@@ BASE @@@
	; @@@ FRAME @@@
	; @@@ BOOL @@@
	; @@@ DEFAULTS @@@
	; BASE: NULL
	; TOOL: NULL
.END
.TRANS
tool_calibr -22.000000 22.500000 100.000000 180.000000 180.000000 0.000000
start_p 350.000000 200.000000 0.000000 0.000000 0.000000 0.000000
target_p 400.000000 1500.000000 0.000000 0.000000 0.000000 0.000000
acf -502.641205 508.059174 -93.000000 -168.157211 178.476929 173.492126
angy[1] 0.000000 0.000000 0.000000 0.000000 10.797389 0.000000
angy[2] 0.000000 0.000000 0.000000 0.000000 11.059161 0.000000
angy[3] 0.000000 0.000000 0.000000 0.000000 11.314812 0.000000
angy[4] 0.000000 0.000000 0.000000 0.000000 11.564759 0.000000
angy[5] 0.000000 0.000000 0.000000 0.000000 11.809373 0.000000
angy[6] 0.000000 0.000000 0.000000 0.000000 12.048993 0.000000
angy[7] 0.000000 0.000000 0.000000 0.000000 12.283914 0.000000
angy[8] 0.000000 0.000000 0.000000 0.000000 12.514409 0.000000
angy[9] 0.000000 0.000000 0.000000 0.000000 12.740726 0.000000
angy[10] 0.000000 0.000000 0.000000 0.000000 12.963087 0.000000
angy[11] 0.000000 0.000000 0.000000 0.000000 13.181698 0.000000
angy[12] 0.000000 0.000000 0.000000 0.000000 13.396745 0.000000
angy[13] 0.000000 0.000000 0.000000 0.000000 13.608401 0.000000
angy[14] 0.000000 0.000000 0.000000 0.000000 13.816829 0.000000
angy[15] 0.000000 0.000000 0.000000 0.000000 14.022170 0.000000
angy[16] 0.000000 0.000000 0.000000 0.000000 14.224563 0.000000
angy[17] 0.000000 0.000000 0.000000 0.000000 14.424135 0.000000
angy[18] 0.000000 0.000000 0.000000 0.000000 14.621004 0.000000
angy[19] 0.000000 0.000000 0.000000 0.000000 14.815280 0.000000
angy[20] 0.000000 0.000000 0.000000 0.000000 15.007061 0.000000
angy[21] 0.000000 0.000000 0.000000 0.000000 15.196448 0.000000
angy[22] 0.000000 0.000000 0.000000 0.000000 15.383530 0.000000
angy[23] 0.000000 0.000000 0.000000 0.000000 15.568388 0.000000
angy[24] 0.000000 0.000000 0.000000 0.000000 15.751110 0.000000
angy[25] 0.000000 0.000000 0.000000 0.000000 15.931760 0.000000
angy[26] 0.000000 0.000000 0.000000 0.000000 16.110418 0.000000
angy[27] 0.000000 0.000000 0.000000 0.000000 16.287142 0.000000
angy[28] 0.000000 0.000000 0.000000 0.000000 16.462002 0.000000
angy[29] 0.000000 0.000000 0.000000 0.000000 16.635054 0.000000
angy[30] 0.000000 0.000000 0.000000 0.000000 16.806358 0.000000
angy[31] 0.000000 0.000000 0.000000 0.000000 16.975964 0.000000
angy[32] 0.000000 0.000000 0.000000 0.000000 17.143923 0.000000
angy[33] 0.000000 0.000000 0.000000 0.000000 17.310286 0.000000
angy[34] 0.000000 0.000000 0.000000 0.000000 17.475098 0.000000
angy[35] 0.000000 0.000000 0.000000 0.000000 17.638403 0.000000
angy[36] 0.000000 0.000000 0.000000 0.000000 17.800245 0.000000
angy[37] 0.000000 0.000000 0.000000 0.000000 17.960663 0.000000
angy[38] 0.000000 0.000000 0.000000 0.000000 18.119696 0.000000
angy[39] 0.000000 0.000000 0.000000 0.000000 18.277374 0.000000
angy[40] 0.000000 0.000000 0.000000 0.000000 18.433743 0.000000
angy[41] 0.000000 0.000000 0.000000 0.000000 18.588829 0.000000
angy[42] 0.000000 0.000000 0.000000 0.000000 18.742664 0.000000
angy[43] 0.000000 0.000000 0.000000 0.000000 18.895283 0.000000
angy[44] 0.000000 0.000000 0.000000 0.000000 19.046717 0.000000
angy[45] 0.000000 0.000000 0.000000 0.000000 19.196989 0.000000
angy[46] 0.000000 0.000000 0.000000 0.000000 19.346125 0.000000
angy[47] 0.000000 0.000000 0.000000 0.000000 19.494160 0.000000
angy[48] 0.000000 0.000000 0.000000 0.000000 19.641113 0.000000
angy[49] 0.000000 0.000000 0.000000 0.000000 19.787008 0.000000
angy[50] 0.000000 0.000000 0.000000 0.000000 19.931870 0.000000
angy[51] 0.000000 0.000000 0.000000 0.000000 20.075722 0.000000
angy[52] 0.000000 0.000000 0.000000 0.000000 20.218584 0.000000
angy[53] 0.000000 0.000000 0.000000 0.000000 20.360481 0.000000
angy[54] 0.000000 0.000000 0.000000 0.000000 20.501429 0.000000
angy[55] 0.000000 0.000000 0.000000 0.000000 20.641451 0.000000
angy[56] 0.000000 0.000000 0.000000 0.000000 20.780561 0.000000
angy[57] 0.000000 0.000000 0.000000 0.000000 20.918781 0.000000
angy[58] 0.000000 0.000000 0.000000 0.000000 21.056129 0.000000
angy[59] 0.000000 0.000000 0.000000 0.000000 21.192623 0.000000
angy[60] 0.000000 0.000000 0.000000 0.000000 21.328279 0.000000
angy[61] 0.000000 0.000000 0.000000 0.000000 21.463108 0.000000
angy[62] 0.000000 0.000000 0.000000 0.000000 21.597132 0.000000
angy[63] 0.000000 0.000000 0.000000 0.000000 21.730362 0.000000
angy[64] 0.000000 0.000000 0.000000 0.000000 21.862818 0.000000
angy[65] 0.000000 0.000000 0.000000 0.000000 21.994505 0.000000
angy[66] 0.000000 0.000000 0.000000 0.000000 22.125446 0.000000
angy[67] 0.000000 0.000000 0.000000 0.000000 22.255650 0.000000
angy[68] 0.000000 0.000000 0.000000 0.000000 22.385130 0.000000
angy[69] 0.000000 0.000000 0.000000 0.000000 22.513899 0.000000
angy[70] 0.000000 0.000000 0.000000 0.000000 22.641970 0.000000
angy[71] 0.000000 0.000000 0.000000 0.000000 22.769354 0.000000
angy[72] 0.000000 0.000000 0.000000 0.000000 22.896065 0.000000
angy[73] 0.000000 0.000000 0.000000 0.000000 23.022110 0.000000
angy[74] 0.000000 0.000000 0.000000 0.000000 23.147505 0.000000
angy[75] 0.000000 0.000000 0.000000 0.000000 23.272253 0.000000
angy[76] 0.000000 0.000000 0.000000 0.000000 23.396374 0.000000
angy[77] 0.000000 0.000000 0.000000 0.000000 23.519871 0.000000
angy[78] 0.000000 0.000000 0.000000 0.000000 23.642756 0.000000
angy[79] 0.000000 0.000000 0.000000 0.000000 23.765038 0.000000
angy[80] 0.000000 0.000000 0.000000 0.000000 23.886728 0.000000
angy[81] 0.000000 0.000000 0.000000 0.000000 24.007833 0.000000
angy[82] 0.000000 0.000000 0.000000 0.000000 24.128365 0.000000
angy[83] 0.000000 0.000000 0.000000 0.000000 24.248329 0.000000
angy[84] 0.000000 0.000000 0.000000 0.000000 24.367737 0.000000
angy[85] 0.000000 0.000000 0.000000 0.000000 24.486593 0.000000
angy[86] 0.000000 0.000000 0.000000 0.000000 24.604910 0.000000
angy[87] 0.000000 0.000000 0.000000 0.000000 24.722691 0.000000
angy[88] 0.000000 0.000000 0.000000 0.000000 24.839947 0.000000
angy[89] 0.000000 0.000000 0.000000 0.000000 24.956684 0.000000
angy[90] 0.000000 0.000000 0.000000 0.000000 25.072910 0.000000
angy[91] 0.000000 0.000000 0.000000 0.000000 25.188631 0.000000
angy[92] 0.000000 0.000000 0.000000 0.000000 25.303856 0.000000
angy[93] 0.000000 0.000000 0.000000 0.000000 25.418589 0.000000
angy[94] 0.000000 0.000000 0.000000 0.000000 25.532839 0.000000
angy[95] 0.000000 0.000000 0.000000 0.000000 25.646612 0.000000
angy[96] 0.000000 0.000000 0.000000 0.000000 25.759914 0.000000
angy[97] 0.000000 0.000000 0.000000 0.000000 25.872753 0.000000
angy[98] 0.000000 0.000000 0.000000 0.000000 25.985130 0.000000
angy[99] 0.000000 0.000000 0.000000 0.000000 26.097059 0.000000
angy[100] 0.000000 0.000000 0.000000 0.000000 26.208540 0.000000
angy[101] 0.000000 0.000000 0.000000 0.000000 26.319580 0.000000
angy[102] 0.000000 0.000000 0.000000 0.000000 26.430185 0.000000
angy[103] 0.000000 0.000000 0.000000 0.000000 26.540358 0.000000
angy[104] 0.000000 0.000000 0.000000 0.000000 26.650108 0.000000
angy[105] 0.000000 0.000000 0.000000 0.000000 26.759439 0.000000
angy[106] 0.000000 0.000000 0.000000 0.000000 26.868357 0.000000
angy[107] 0.000000 0.000000 0.000000 0.000000 26.976866 0.000000
angy[108] 0.000000 0.000000 0.000000 0.000000 27.084969 0.000000
angy[109] 0.000000 0.000000 0.000000 0.000000 27.192675 0.000000
angy[110] 0.000000 0.000000 0.000000 0.000000 27.299986 0.000000
angy[111] 0.000000 0.000000 0.000000 0.000000 27.406908 0.000000
angy[112] 0.000000 0.000000 0.000000 0.000000 27.513445 0.000000
angy[113] 0.000000 0.000000 0.000000 0.000000 27.619602 0.000000
angy[114] 0.000000 0.000000 0.000000 0.000000 27.725380 0.000000
angy[115] 0.000000 0.000000 0.000000 0.000000 27.830791 0.000000
angy[116] 0.000000 0.000000 0.000000 0.000000 27.935831 0.000000
angy[117] 0.000000 0.000000 0.000000 0.000000 28.040506 0.000000
angy[118] 0.000000 0.000000 0.000000 0.000000 28.144827 0.000000
angy[119] 0.000000 0.000000 0.000000 0.000000 28.248789 0.000000
angy[120] 0.000000 0.000000 0.000000 0.000000 28.352398 0.000000
angy[121] 0.000000 0.000000 0.000000 0.000000 28.455664 0.000000
angy[122] 0.000000 0.000000 0.000000 0.000000 28.558584 0.000000
angy[123] 0.000000 0.000000 0.000000 0.000000 28.661165 0.000000
angy[124] 0.000000 0.000000 0.000000 0.000000 28.763405 0.000000
angy[125] 0.000000 0.000000 0.000000 0.000000 28.865318 0.000000
angy[126] 0.000000 0.000000 0.000000 0.000000 28.966902 0.000000
angy[127] 0.000000 0.000000 0.000000 0.000000 29.068159 0.000000
angy[128] 0.000000 0.000000 0.000000 0.000000 29.169094 0.000000
base_canvas 593.000000 -66.000000 -300.000000 0.000000 0.000000 0.000000
canvas_base 752.000000 -70.000000 -397.000000 90.000008 0.000000 0.000000
cur_pos 165.015198 158.808716 -0.009094 -84.731415 0.002094 84.733696
cur_pos_safe 165.015198 158.808716 50.000000 0.000000 0.000000 0.000000
deploy_mp 350.000000 450.000000 1.000000 0.000000 0.000000 0.000000
f -504.213745 507.729431 -153.428650 -168.157211 178.476929 173.492126
home_position 0.000000 0.000000 150.000000 0.000000 0.000000 0.000000
igor_test2 100.000000 100.000000 100.000000 0.000000 0.000000 0.000000
o1 -415.253143 -394.123718 -342.993347 55.844021 179.996185 147.993423
p1 100.000000 0.000000 0.000000 0.000000 0.000000 0.000000
p2 -555.454834 438.771362 -92.474068 -80.274338 179.753647 84.494125
p3 -489.033173 568.597046 -94.910995 -80.740196 179.750793 84.029549
p4 -502.641205 508.059174 -93.000000 -168.066818 178.478592 173.583649
p_0[1] -14.050241 0.000000 -73.672188 0.000000 0.000000 0.000000
p_0[2] -13.298419 5.488971 -73.607224 -22.428566 0.000000 0.000000
p_0[3] -10.525546 10.283157 -73.542297 -44.332623 0.000000 0.000000
p_0[4] -6.175904 13.708721 -73.477402 -65.747993 0.000000 0.000000
p_0[5] -0.881788 15.323864 -73.412544 -86.706635 0.000000 0.000000
p_0[6] 4.639323 14.952932 -73.347710 -107.237129 0.000000 0.000000
p_0[7] 9.684008 12.682130 -73.282898 -127.365158 0.000000 0.000000
p_0[8] 13.647145 8.823997 -73.218117 -147.114029 0.000000 0.000000
p_0[9] 16.083775 3.859949 -73.153351 -166.504791 0.000000 0.000000
p_0[10] 16.745186 -1.629094 -73.088608 174.443344 0.000000 0.000000
p_0[11] 15.589293 -7.034640 -73.023888 155.712830 0.000000 0.000000
p_0[12] 12.768015 -11.787115 -72.959175 137.287582 0.000000 0.000000
p_0[13] 8.596256 -15.410970 -72.894485 119.152832 0.000000 0.000000
p_0[14] 3.508102 -17.564493 -72.829811 101.294891 0.000000 0.000000
p_0[15] -1.993731 -18.062599 -72.765152 83.701241 0.000000 0.000000
p_0[16] -7.389853 -16.882723 -72.700508 66.360184 0.000000 0.000000
p_0[17] -12.192382 -14.155413 -72.635872 49.260921 0.000000 0.000000
p_0[18] -15.985836 -10.142303 -72.571259 32.393307 0.000000 0.000000
p_0[19] -18.457930 -5.204952 -72.506638 15.747922 0.000000 0.000000
p_0[20] -19.418972 0.231812 -72.442047 -0.683931 0.000000 0.000000
p_0[21] -18.809618 5.718581 -72.377457 -16.910545 0.000000 0.000000
p_0[22] -16.697538 10.818502 -72.312881 -32.939613 0.000000 0.000000
p_0[23] -13.264562 15.140453 -72.248306 -48.778389 0.000000 0.000000
p_0[24] -8.786233 18.365963 -72.183746 -64.433678 0.000000 0.000000
p_0[25] -3.606089 20.268631 -72.119194 -79.911812 0.000000 0.000000
p_0[26] 1.893066 20.725424 -72.054649 -95.218933 0.000000 0.000000
p_0[27] 7.318285 19.719671 -71.990120 -110.360695 0.000000 0.000000
p_0[28] 12.294375 17.336599 -71.925591 -125.342636 0.000000 0.000000
p_0[29] 16.488239 13.752251 -71.861069 -140.169724 0.000000 0.000000
p_0[30] 19.629040 9.217118 -71.796555 -154.846878 0.000000 0.000000
p_0[31] 21.522608 4.036139 -71.732048 -169.378677 0.000000 0.000000
p_0[32] 22.060144 -1.453418 -71.667549 176.230560 0.000000 0.000000
p_0[33] 21.220913 -6.904719 -71.603050 161.976501 0.000000 0.000000
p_0[34] 19.069429 -11.982912 -71.538567 147.855438 0.000000 0.000000
p_0[35] 15.747521 -16.385078 -71.474083 133.863342 0.000000 0.000000
p_0[36] 11.462626 -19.856390 -71.409607 119.996864 0.000000 0.000000
p_0[37] 6.472579 -22.203096 -71.345131 106.252335 0.000000 0.000000
p_0[38] 1.068904 -23.300730 -71.280663 92.626610 0.000000 0.000000
p_0[39] -4.441143 -23.098236 -71.216209 79.116486 0.000000 0.000000
p_0[40] -9.752175 -21.617682 -71.151749 65.718925 0.000000 0.000000
p_0[41] -14.577116 -18.950054 -71.087296 52.431149 0.000000 0.000000
p_0[42] -18.661869 -15.247630 -71.022850 39.250462 0.000000 0.000000
p_0[43] -21.797443 -10.713400 -70.958405 26.174034 0.000000 0.000000
p_0[44] -23.828817 -5.588736 -70.893959 13.199404 0.000000 0.000000
p_0[45] -24.660883 -0.139528 -70.829521 0.324169 0.000000 0.000000
p_0[46] -24.260921 5.358096 -70.765091 -12.454022 0.000000 0.000000
p_0[47] -22.657904 10.631812 -70.700668 -25.137463 0.000000 0.000000
p_0[48] -19.938761 15.426191 -70.636238 -37.728340 0.000000 0.000000
p_0[49] -16.242229 19.514317 -70.571815 -50.228565 0.000000 0.000000
p_0[50] -11.750231 22.707676 -70.507401 -62.640385 0.000000 0.000000
p_0[51] -6.678142 24.863394 -70.442986 -74.965538 0.000000 0.000000
p_0[52] -1.263444 25.889383 -70.378571 -87.206055 0.000000 0.000000
p_0[53] 4.245543 25.746723 -70.314163 -99.363579 0.000000 0.000000
p_0[54] 9.601418 24.449629 -70.249756 -111.440056 0.000000 0.000000
p_0[55] 14.568345 22.063072 -70.185356 -123.436943 0.000000 0.000000
p_0[56] 18.932123 18.698296 -70.120956 -135.356003 0.000000 0.000000
p_0[57] 22.508656 14.506508 -70.056557 -147.198792 0.000000 0.000000
p_0[58] 25.150822 9.671233 -69.992165 -158.966782 0.000000 0.000000
p_0[59] 26.753506 4.399553 -69.927780 -170.661438 0.000000 0.000000
p_0[60] 27.256653 -1.087220 -69.863388 177.715790 0.000000 0.000000
p_0[61] 26.646330 -6.562955 -69.799004 166.163528 0.000000 0.000000
p_0[62] 24.953926 -11.806116 -69.734619 154.680405 0.000000 0.000000
p_0[63] 22.253572 -16.608318 -69.670242 143.265228 0.000000 0.000000
p_0[64] 18.657827 -20.782436 -69.605858 131.916519 0.000000 0.000000
p_0[65] 14.312449 -24.168898 -69.541489 120.633354 0.000000 0.000000
p_0[66] 9.389563 -26.641460 -69.477112 109.414574 0.000000 0.000000
p_0[67] 4.080273 -28.110907 -69.412735 98.258743 0.000000 0.000000
p_0[68] -1.412744 -28.527323 -69.348366 87.164864 0.000000 0.000000
p_0[69] -6.883420 -27.880922 -69.284004 76.131767 0.000000 0.000000
p_0[70] -12.129608 -26.201418 -69.219635 65.158768 0.000000 0.000000
p_0[71] -16.961130 -23.555639 -69.155273 54.244354 0.000000 0.000000
p_0[72] -21.205315 -20.044456 -69.090912 43.387966 0.000000 0.000000
p_0[73] -24.713558 -15.797946 -69.026550 32.588406 0.000000 0.000000
p_0[74] -27.365499 -10.970189 -68.962189 21.844687 0.000000 0.000000
p_0[75] -29.072596 -5.733414 -68.897835 11.156155 0.000000 0.000000
p_0[76] -29.780502 -0.271121 -68.833481 0.521606 0.000000 0.000000
p_0[77] -29.469906 5.227961 -68.769127 -10.059616 0.000000 0.000000
p_0[78] -28.156443 10.576791 -68.704781 -20.588383 0.000000 0.000000
p_0[79] -25.889219 15.596153 -68.640427 -31.065573 0.000000 0.000000
p_0[80] -22.748474 20.120348 -68.576080 -41.491837 0.000000 0.000000
p_0[81] -18.841980 24.002544 -68.511734 -51.868156 0.000000 0.000000
p_0[82] -14.301105 27.118870 -68.447395 -62.195190 0.000000 0.000000
p_0[83] -9.275781 29.372070 -68.383057 -72.473808 0.000000 0.000000
p_0[84] -3.929589 30.693848 -68.318710 -82.704453 0.000000 0.000000
p_0[85] 1.566245 31.046541 -68.254372 -92.888100 0.000000 0.000000
p_0[86] 7.037921 30.423460 -68.190033 -103.025307 0.000000 0.000000
p_0[87] 12.314878 28.848446 -68.125694 -113.116821 0.000000 0.000000
p_0[88] 17.234764 26.374485 -68.061363 -123.163200 0.000000 0.000000
p_0[89] 21.648487 23.081305 -67.997032 -133.165329 0.000000 0.000000
p_0[90] 25.424026 19.072681 -67.932693 -143.123413 0.000000 0.000000
p_0[91] 28.450615 14.472292 -67.868362 -153.038437 0.000000 0.000000
p_0[92] 30.641062 9.420082 -67.804039 -162.910843 0.000000 0.000000
p_0[93] 31.934109 4.067533 -67.739708 -172.741180 0.000000 0.000000
p_0[94] 32.295612 -1.427049 -67.675377 177.469910 0.000000 0.000000
p_0[95] 31.718939 -6.903230 -67.611053 167.721756 0.000000 0.000000
p_0[96] 30.224659 -12.202872 -67.546730 158.014145 0.000000 0.000000
p_0[97] 27.859255 -17.175200 -67.482407 148.346207 0.000000 0.000000
p_0[98] 24.693430 -21.680340 -67.418083 138.717484 0.000000 0.000000
p_0[99] 20.819633 -25.593250 -67.353767 129.127686 0.000000 0.000000
p_0[100] 16.348787 -28.807095 -67.289444 119.576012 0.000000 0.000000
p_0[101] 11.407226 -31.235535 -67.225128 110.062149 0.000000 0.000000
p_0[102] 6.132619 -32.814896 -67.160805 100.585564 0.000000 0.000000
p_0[103] 0.670104 -33.505405 -67.096489 91.145691 0.000000 0.000000
p_0[104] -4.831532 -33.291798 -67.032173 81.742424 0.000000 0.000000
p_0[105] -10.224548 -32.183292 -66.967857 72.375015 0.000000 0.000000
p_0[106] -15.365653 -30.212776 -66.903549 63.042908 0.000000 0.000000
p_0[107] -20.119556 -27.435738 -66.839233 53.746094 0.000000 0.000000
p_0[108] -24.363155 -23.927933 -66.774918 44.483597 0.000000 0.000000
p_0[109] -27.987495 -19.783674 -66.710609 35.255527 0.000000 0.000000
p_0[110] -30.901262 -15.112312 -66.646301 26.061005 0.000000 0.000000
p_0[111] -33.032055 -10.035997 -66.581993 16.900139 0.000000 0.000000
p_0[112] -34.328484 -4.685365 -66.517685 7.772059 0.000000 0.000000
p_0[113] -34.760666 0.802936 -66.453377 -1.323239 0.000000 0.000000
p_0[114] -34.320820 6.290700 -66.389069 -10.386518 0.000000 0.000000
p_0[115] -33.022980 11.640813 -66.324768 -19.417891 0.000000 0.000000
p_0[116] -30.902344 16.721148 -66.260468 -28.417679 0.000000 0.000000
p_0[117] -28.013905 21.407717 -66.196159 -37.386433 0.000000 0.000000
p_0[118] -24.430933 25.587257 -66.131859 -46.324368 0.000000 0.000000
p_0[119] -20.242737 29.160084 -66.067558 -55.231930 0.000000 0.000000
p_0[120] -15.552329 32.042091 -66.003258 -64.109428 0.000000 0.000000
p_0[121] -10.473793 34.166561 -65.938957 -72.957100 0.000000 0.000000
p_0[122] -5.129230 35.485500 -65.874657 -81.775253 0.000000 0.000000
p_0[123] 0.354260 35.970417 -65.810356 -90.564346 0.000000 0.000000
p_0[124] 5.847507 35.612656 -65.746063 -99.324692 0.000000 0.000000
p_0[125] 11.222315 34.423317 -65.681770 -108.056519 0.000000 0.000000
p_0[126] 16.354544 32.432632 -65.617470 -116.760147 0.000000 0.000000
p_0[127] 21.126839 29.689001 -65.553177 -125.435890 0.000000 0.000000
p_0[128] 25.431143 26.257612 -65.488884 -134.084000 0.000000 0.000000
paints_base 743.000000 -249.000000 -397.000000 90.000008 0.000000 0.000000
pnt 174.000000 172.669998 0.000000 0.000000 0.000000 0.000000
point_1 244.105591 200.011902 190.671982 0.000000 0.000000 0.000000
point_2 174.105591 50.011909 190.671982 0.000000 0.000000 0.000000
red_pos 24.000000 111.000000 109.000000 0.000000 0.000000 0.000000
red_pos_r 24.000000 111.000000 109.000000 0.000000 0.000000 0.000000
red_pos_r_1 45.000000 116.000000 127.000000 0.000000 0.000000 0.000000
red_pos_r_2 45.000000 106.000000 127.000000 0.000000 0.000000 0.000000
red_pos_r_3 19.000000 111.000000 127.000000 0.000000 0.000000 0.000000
red_pos_r_4 29.000000 111.000000 127.000000 0.000000 0.000000 0.000000
red_pos_safe 24.000000 111.000000 150.000000 0.000000 0.000000 0.000000
start_down 169.000000 169.250000 0.000000 0.000000 0.000000 0.000000
start_mp 350.000000 100.000000 -2.000000 0.000000 0.000000 0.000000
start_up 169.000000 169.250000 50.000000 0.000000 0.000000 0.000000
stop_mp 350.000000 350.000000 -2.000000 0.000000 0.000000 0.000000
take -196.474670 605.588989 -102.606064 -88.435471 179.751572 91.570076
test 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
test_2 144.105591 50.011909 190.671982 -32.906811 0.002766 32.909843
tool0 -0.280000 -0.380000 63.699997 0.000000 0.000000 0.000000
tool1 39.000000 3.000000 102.000000 4.000000 51.000000 -1.000000
tool_test 39.000000 3.000000 102.000000 -176.000000 129.000000 179.000015
tp[1] -488.966309 512.553772 -80.153526 -162.442474 167.688156 179.190506
tp[2] -491.409241 517.526672 -80.182083 -142.579025 167.586288 176.570312
tp[3] -495.551025 521.203918 -80.159317 -122.736893 167.667465 174.462723
tp[4] -500.757996 523.085876 -80.098999 -102.682320 167.885101 173.072037
tp[5] -506.291199 522.952148 -80.019157 -82.228806 168.179214 172.556610
tp[6] -511.414581 520.861938 -79.939285 -61.263069 168.480881 173.002060
tp[7] -515.487854 517.118347 -79.877693 -39.787090 168.718948 174.379028
tp[8] -518.035278 512.208618 -79.849419 -17.956043 168.829895 176.505142
tp[9] -518.786194 506.729645 -79.864769 3.924854 168.769547 179.048721
tp[10] -517.687500 501.311127 -79.928558 25.471050 168.522018 -178.400192
tp[11] -514.890808 496.543915 -80.040062 46.332218 168.101517 -176.215683
tp[12] -510.719635 492.920746 -80.193573 66.282707 167.545532 -174.645081
tp[13] -505.622375 490.793884 -80.379326 85.245331 166.903793 -173.784912
tp[14] -500.118469 490.351074 -80.584839 103.260017 166.228027 -173.611923
tp[15] -494.743195 491.609680 -80.796265 120.434761 165.565155 -174.031967
tp[16] -489.996429 494.427704 -80.999840 136.905579 164.953949 -174.920456
tp[17] -486.299988 498.527649 -81.183060 152.811707 164.423874 -176.147064
tp[18] -483.965729 503.530396 -81.335739 168.284027 163.995224 -177.587921
tp[19] -483.176117 508.994446 -81.450745 -176.558853 163.679611 -179.129776
tp[20] -483.977417 514.456909 -81.524315 -161.610764 163.480774 179.329468
tp[21] -486.284454 519.472595 -81.556267 -146.776398 163.395157 177.881500
tp[22] -489.895508 523.648071 -81.549675 -131.970261 163.412766 176.608551
tp[23] -494.514923 526.669312 -81.510551 -117.116241 163.517822 175.583359
tp[24] -499.781036 528.320923 -81.447105 -102.148628 163.689529 174.867767
tp[25] -505.296600 528.495972 -81.369102 -87.015045 163.903061 174.509705
tp[26] -510.659698 527.198242 -81.287025 -71.680794 164.130783 174.538620
tp[27] -515.492249 524.535645 -81.211288 -56.134838 164.343750 174.959534
tp[28] -519.465088 520.707153 -81.151566 -40.395203 164.513733 175.747574
tp[29] -522.317566 515.984619 -81.116112 -24.512537 164.615494 176.844925
tp[30] -523.871643 510.691101 -81.111328 -8.567806 164.629303 178.162842
tp[31] -524.039001 505.177185 -81.141411 7.335758 164.542831 179.590134
tp[32] -522.822632 499.797180 -81.208229 23.086666 164.352432 -178.992599
tp[33] -520.312012 494.886871 -81.311287 38.581520 164.063156 -177.696594
tp[34] -516.673767 490.743713 -81.447868 53.737762 163.687469 -176.611511
tp[35] -512.137817 487.610626 -81.613312 68.502266 163.243347 -175.797485
tp[36] -506.981232 485.664185 -81.801384 82.851097 162.751999 -175.284164
tp[37] -501.509613 485.007111 -82.004684 96.786705 162.235703 -175.074509
tp[38] -496.038727 485.665802 -82.215141 110.330635 161.716080 -175.151123
tp[39] -490.876190 487.591980 -82.424469 123.517494 161.213013 -175.482742
tp[40] -486.304810 490.668610 -82.624702 136.389282 160.743683 -176.029938
tp[41] -482.568329 494.718933 -82.808517 148.991043 160.322327 -176.749161
tp[42] -479.859863 499.518494 -82.969658 161.368408 159.959930 -177.595627
tp[43] -478.313843 504.808777 -83.103226 173.566132 159.664246 -178.525070
tp[44] -478.001343 510.311920 -83.205856 -174.373260 159.439835 -179.494705
tp[45] -478.928925 515.745605 -83.275826 -162.409515 159.288162 179.536163
tp[46] -481.040710 520.837463 -83.313110 -150.504913 159.207779 178.605835
tp[47] -484.223450 525.338135 -83.319290 -138.624359 159.194489 177.749969
tp[48] -488.314301 529.032532 -83.297447 -126.735611 159.241516 177.001129
tp[49] -493.110168 531.748901 -83.251907 -114.809853 159.339890 176.388489
tp[50] -498.379120 533.365662 -83.188057 -102.821724 159.478577 175.936905
tp[51] -503.871826 533.814941 -83.112007 -90.751007 159.644958 175.666061
tp[52] -509.333954 533.084045 -83.030319 -78.583038 159.825150 175.589264
tp[53] -514.517700 531.214294 -82.949646 -66.310684 160.004608 175.712143
tp[54] -519.192688 528.296997 -82.876503 -53.934834 160.168671 176.031387
tp[55] -523.155762 524.468018 -82.816895 -41.466286 160.303314 176.533768
tp[56] -526.238586 519.900452 -82.776169 -28.925220 160.395828 177.195953
tp[57] -528.314148 514.795654 -82.758728 -16.341171 160.435608 177.985077
tp[58] -529.300598 509.374268 -82.767883 -3.751233 160.414734 178.860474
tp[59] -529.163452 503.865784 -82.805801 8.802731 160.328476 179.776596
tp[60] -527.915283 498.499268 -82.873413 21.277563 160.175613 -179.313614
tp[61] -525.614197 493.493713 -82.970390 33.632156 159.958313 -178.454880
tp[62] -522.359558 489.049469 -83.095238 45.830967 159.681824 -177.686462
tp[63] -518.287415 485.341064 -83.245369 57.845871 159.354034 -177.039673
tp[64] -513.563477 482.510620 -83.417267 69.658035 158.984772 -176.536743
tp[65] -508.376190 480.663727 -83.606567 81.256935 158.585129 -176.190552
tp[66] -502.928680 479.866058 -83.808380 92.640640 158.166779 -176.005371
tp[67] -497.430298 480.142151 -84.017365 103.814415 157.741425 -175.978119
tp[68] -492.089111 481.475525 -84.228027 114.788567 157.320328 -176.099731
tp[69] -487.103668 483.810669 -84.434891 125.577728 156.913910 -176.356750
tp[70] -482.656433 487.055725 -84.632721 136.198685 156.531479 -176.732468
tp[71] -478.906799 491.087402 -84.816681 146.670822 156.181046 -177.208160
tp[72] -475.986877 495.755585 -84.982529 157.013382 155.869263 -177.763840
tp[73] -473.996704 500.890106 -85.126717 167.246582 155.601212 -178.379013
tp[74] -473.001953 506.306763 -85.246552 177.390228 155.380554 -179.033066
tp[75] -473.032410 511.814270 -85.340187 -172.536636 155.209381 -179.705673
tp[76] -474.081909 517.221313 -85.406754 -162.514999 155.088379 179.622955
tp[77] -476.109375 522.342651 -85.446320 -152.527267 155.016724 178.971786
tp[78] -479.041016 527.005737 -85.459839 -142.556458 154.992264 178.358917
tp[79] -482.773926 531.055908 -85.449181 -132.586700 155.011551 177.801193
tp[80] -487.179718 534.361145 -85.416931 -122.603508 155.069946 177.314087
tp[81] -492.109985 536.816040 -85.366394 -112.593575 155.161682 176.911423
tp[82] -497.401062 538.344238 -85.301407 -102.545525 155.280151 176.604996
tp[83] -502.880066 538.900757 -85.226219 -92.449867 155.417847 176.404297
tp[84] -508.370300 538.472229 -85.145378 -82.299973 155.566727 176.316055
tp[85] -513.697510 537.076782 -85.063499 -72.091423 155.718399 176.343842
tp[86] -518.694580 534.762756 -84.985199 -61.823498 155.864273 176.487762
tp[87] -523.207214 531.606506 -84.914902 -51.498730 155.995956 176.744019
tp[88] -527.098145 527.709351 -84.856735 -41.123573 156.105408 177.104828
tp[89] -530.250854 523.194031 -84.814407 -30.707861 156.185364 177.558472
tp[90] -532.572937 518.200439 -84.791092 -20.265587 156.229523 178.089523
tp[91] -533.998047 512.880981 -84.789337 -9.812875 156.232864 178.679413
tp[92] -534.487610 507.395844 -84.811005 0.631354 156.191803 179.307236
tp[93] -534.031189 501.908081 -84.857292 11.047076 156.104355 179.950729
tp[94] -532.646240 496.578735 -84.928612 21.414221 155.970230 -179.412521
tp[95] -530.376892 491.562134 -85.024635 31.713648 155.790695 -178.803955
tp[96] -527.292480 487.001953 -85.144363 41.927673 155.568619 -178.243179
tp[97] -523.484619 483.026611 -85.286110 52.041954 155.308090 -177.746872
tp[98] -519.064331 479.746674 -85.447586 62.044922 155.014435 -177.328522
tp[99] -514.158752 477.251678 -85.625969 71.928299 154.693726 -176.997894
tp[100] -508.906799 475.608124 -85.818016 81.687721 154.352646 -176.761154
tp[101] -503.455444 474.858215 -86.020126 91.321579 153.998199 -176.621017
tp[102] -497.955383 475.019043 -86.228477 100.831383 153.637466 -176.577072
tp[103] -492.556824 476.082672 -86.439102 110.221077 153.277390 -176.626175
tp[104] -487.405762 478.016754 -86.648041 119.496208 152.924576 -176.762939
tp[105] -482.639496 480.766052 -86.851418 128.664505 152.585205 -176.980118
tp[106] -478.383545 484.254242 -87.045532 137.734650 152.264832 -177.269104
tp[107] -474.748901 488.386078 -87.227005 146.715591 151.968399 -177.620209
tp[108] -471.828461 493.050903 -87.392799 155.617783 151.700089 -178.023010
tp[109] -469.695923 498.124908 -87.540314 164.450882 151.463303 -178.466629
tp[110] -468.403534 503.475525 -87.667473 173.225586 151.260605 -178.939926
tp[111] -467.981476 508.964081 -87.772736 -178.048340 151.093796 -179.431686
tp[112] -468.437439 514.450378 -87.855141 -169.360397 150.963837 -179.930786
tp[113] -469.756744 519.795288 -87.914299 -160.701172 150.870850 179.573730
tp[114] -471.903259 524.865234 -87.950439 -152.060822 150.814178 179.092392
tp[115] -474.820496 529.534485 -87.964325 -143.430527 150.792435 178.635422
tp[116] -478.433502 533.688660 -87.957298 -134.801773 150.803436 178.212372
tp[117] -482.651031 537.227417 -87.931183 -126.166367 150.844360 177.832184
tp[118] -487.367920 540.066345 -87.888252 -117.517097 150.911743 177.503006
tp[119] -492.468079 542.138916 -87.831161 -108.847290 151.001587 177.231979
tp[120] -497.827271 543.397644 -87.762894 -100.151321 151.109360 177.025223
tp[121] -503.316254 543.815247 -87.686653 -91.424675 151.230148 176.887619
tp[122] -508.804047 543.384521 -87.605820 -82.663918 151.358719 176.822617
tp[123] -514.161133 542.118408 -87.523827 -73.866859 151.489670 176.832123
tp[124] -519.262207 540.049438 -87.444099 -65.032890 151.617523 176.916336
tp[125] -523.989136 537.228455 -87.370018 -56.163082 151.736816 177.073700
tp[126] -528.233582 533.723206 -87.304756 -47.260105 151.842285 177.300735
tp[127] -531.899597 529.616638 -87.251266 -38.328270 151.929001 177.592117
tp[128] -534.905029 525.004517 -87.212204 -29.373652 151.992477 177.940735
water_pos 45.000000 50.000000 88.000000 0.000000 0.000000 0.000000
water_pos_cl1 45.000000 50.000000 130.000000 0.000000 0.000000 0.000000
water_pos_cl2 45.000000 0.000000 130.000000 0.000000 0.000000 0.000000
water_pos_cl3 45.000000 0.000000 150.000000 0.000000 0.000000 0.000000
water_pos_r 45.000000 50.000000 88.000000 0.000000 0.000000 0.000000
water_pos_r_1 45.000000 70.000000 88.000000 10.000001 0.000000 0.000000
water_pos_r_2 45.000000 30.000000 88.000000 -10.000001 0.000000 0.000000
water_pos_r_3 25.000000 50.000000 88.000000 0.000000 10.000001 0.000000
water_pos_r_4 65.000000 50.000000 88.000000 -180.000000 10.000001 -180.000000
water_pos_safe 45.000000 50.000000 150.000000 0.000000 0.000000 0.000000
x1 -415.244202 -354.446899 -343.004089 57.464138 179.993790 149.610931
y1 -595.365784 -394.144073 -342.990204 -105.318436 179.999420 -13.166883
zero_point 0.000000 0.000000 10.000000 0.000000 0.000000 0.000000
.END
.REALS
main_speed = 70
grab_speed = 30
io_calcERR = 2001
acc = 50
dec = 50
maxX = 900
maxY = 900
minX = 130
minY = 130
Motion_rad = 650
retract = 100
io_start_game = 2002
Zoffset = 3
Zsafety = 120
.END
